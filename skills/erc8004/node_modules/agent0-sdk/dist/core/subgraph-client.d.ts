/**
 * Subgraph client for querying The Graph network
 */
import type { AgentSummary, SearchFilters } from '../models/interfaces.js';
export interface SubgraphQueryOptions {
    where?: Record<string, unknown>;
    first?: number;
    skip?: number;
    orderBy?: string;
    orderDirection?: 'asc' | 'desc';
    includeRegistrationFile?: boolean;
}
export interface SearchAgentsV2Options {
    where?: Record<string, unknown> | null;
    first: number;
    skip: number;
    orderBy: string;
    orderDirection: 'asc' | 'desc';
}
export type QueryAgentMetadata = {
    id: string;
    key: string;
    value: string;
    updatedAt: bigint;
    agent: {
        id: string;
    };
};
export type QueryFeedback = {
    id: string;
    agent: {
        id: string;
    };
    clientAddress: string;
    value: string;
    tag1?: string | null;
    tag2?: string | null;
    endpoint?: string | null;
    isRevoked: boolean;
    createdAt: bigint;
    responses?: Array<{
        id: string;
    }> | null;
};
export type QueryFeedbackResponse = {
    id: string;
    feedback: {
        id: string;
    };
    createdAt: bigint;
};
export type QueryAgent = {
    id: string;
    chainId: bigint;
    agentId: bigint;
    owner?: string | null;
    operators?: string[] | null;
    agentURI?: string | null;
    agentURIType?: string | null;
    createdAt?: bigint | null;
    updatedAt?: bigint | null;
    agentWallet?: string | null;
    totalFeedback?: bigint | null;
    lastActivity?: bigint | null;
    registrationFile?: AgentRegistrationFile | null;
};
export type AgentRegistrationFile = {
    id: string;
    agentId?: string | null;
    name?: string | null;
    description?: string | null;
    image?: string | null;
    active?: boolean | null;
    x402Support?: boolean | null;
    x402support?: boolean | null;
    supportedTrusts?: string[] | null;
    mcpEndpoint?: string | null;
    mcpVersion?: string | null;
    a2aEndpoint?: string | null;
    a2aVersion?: string | null;
    webEndpoint?: string | null;
    emailEndpoint?: string | null;
    hasOASF?: boolean | null;
    oasfSkills?: string[] | null;
    oasfDomains?: string[] | null;
    ens?: string | null;
    did?: string | null;
    mcpTools?: string[] | null;
    mcpPrompts?: string[] | null;
    mcpResources?: string[] | null;
    a2aSkills?: string[] | null;
};
/**
 * Client for querying the subgraph GraphQL API
 */
export declare class SubgraphClient {
    private client;
    constructor(subgraphUrl: string);
    /**
     * Execute a GraphQL query against the subgraph
     */
    query<T = unknown>(query: string, variables?: Record<string, unknown>): Promise<T>;
    /**
     * Query agents from the subgraph
     */
    getAgents(options?: SubgraphQueryOptions): Promise<AgentSummary[]>;
    /**
     * V2 agent query: pass a GraphQL `where` object via variables (no ad-hoc string building).
     */
    searchAgentsV2(opts: SearchAgentsV2Options): Promise<AgentSummary[]>;
    queryAgentMetadata(where: Record<string, unknown>, first: number, skip: number): Promise<QueryAgentMetadata[]>;
    queryFeedbacks(where: Record<string, unknown>, first: number, skip: number, orderBy?: string, orderDirection?: 'asc' | 'desc'): Promise<QueryFeedback[]>;
    queryFeedbackResponses(where: Record<string, unknown>, first: number, skip: number): Promise<QueryFeedbackResponse[]>;
    /**
     * Get a single agent by ID
     */
    getAgentById(agentId: string): Promise<AgentSummary | null>;
    /**
     * Transform raw subgraph agent data to AgentSummary
     */
    private _transformAgent;
    /**
     * Search agents with filters (delegates to getAgents with WHERE clause)
     * @param params Search parameters
     * @param first Maximum number of results to return (default: 100)
     * @param skip Number of results to skip for pagination (default: 0)
     */
    searchAgents(params: SearchFilters, first?: number, skip?: number): Promise<AgentSummary[]>;
    /**
     * Search feedback with filters
     */
    searchFeedback(params: {
        agents?: string[];
        reviewers?: string[];
        tags?: string[];
        capabilities?: string[];
        skills?: string[];
        tasks?: string[];
        names?: string[];
        minValue?: number;
        maxValue?: number;
        includeRevoked?: boolean;
    }, first?: number, skip?: number, orderBy?: string, orderDirection?: 'asc' | 'desc'): Promise<any[]>;
}
//# sourceMappingURL=subgraph-client.d.ts.map