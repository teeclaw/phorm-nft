/**
 * Feedback management system for Agent0 SDK
 */
import type { Feedback, SearchFeedbackParams, FeedbackFileInput } from '../models/interfaces.js';
import type { AgentId, Address, URI, IdemKey } from '../models/types.js';
import type { ChainClient } from './chain-client.js';
import type { IPFSClient } from './ipfs-client.js';
import type { SubgraphClient } from './subgraph-client.js';
import { TransactionHandle } from './transaction-handle.js';
/**
 * Manages feedback operations for the Agent0 SDK
 */
export declare class FeedbackManager {
    private chainClient;
    private ipfsClient?;
    private reputationRegistryAddress?;
    private identityRegistryAddress?;
    private subgraphClient?;
    private getSubgraphClientForChain?;
    private defaultChainId?;
    constructor(chainClient: ChainClient, ipfsClient?: IPFSClient | undefined, reputationRegistryAddress?: Address | undefined, identityRegistryAddress?: Address | undefined, subgraphClient?: SubgraphClient | undefined);
    /**
     * Set function to get subgraph client for a specific chain (for multi-chain support)
     */
    setSubgraphClientGetter(getter: (chainId?: number) => SubgraphClient | undefined, defaultChainId: number): void;
    /**
     * Set reputation registry contract (for lazy initialization)
     */
    setReputationRegistryAddress(address: Address): void;
    /**
     * Set identity registry contract (for lazy initialization)
     */
    setIdentityRegistryAddress(address: Address): void;
    /**
     * Prepare an off-chain feedback file.
     *
     * This does NOT include on-chain fields (value/tag1/tag2/endpoint). Those are passed
     * directly to giveFeedback(...) and stored on-chain.
     */
    prepareFeedbackFile(input: FeedbackFileInput, extra?: Record<string, unknown>): FeedbackFileInput;
    /**
     * Give feedback (maps 8004 endpoint)
     */
    giveFeedback(agentId: AgentId, value: number | string, tag1?: string, tag2?: string, endpoint?: string, feedbackFile?: FeedbackFileInput, idem?: IdemKey): Promise<TransactionHandle<Feedback>>;
    /**
     * Get single feedback with responses
     * Currently only supports blockchain query - subgraph support coming soon
     */
    getFeedback(agentId: AgentId, clientAddress: Address, feedbackIndex: number): Promise<Feedback>;
    /**
     * Get feedback from blockchain
     */
    private _getFeedbackFromBlockchain;
    /**
     * Search feedback with filters
     * Uses subgraph if available, otherwise returns empty array
     * Supports chainId:agentId format in params.agents
     */
    searchFeedback(params: SearchFeedbackParams): Promise<Feedback[]>;
    /**
     * Map subgraph feedback data to Feedback model
     */
    private _mapSubgraphFeedbackToModel;
    /**
     * Convert tag strings to array, filtering out empty values
     * Tags are now strings (not bytes32) in the new spec
     */
    private _hexBytes32ToTags;
    /**
     * Append response to feedback
     */
    appendResponse(agentId: AgentId, clientAddress: Address, feedbackIndex: number, responseUri: URI, responseHash: string): Promise<TransactionHandle<Feedback>>;
    /**
     * Revoke feedback
     */
    revokeFeedback(agentId: AgentId, feedbackIndex: number): Promise<TransactionHandle<Feedback>>;
    /**
     * Get reputation summary
     * Supports chainId:agentId format
     */
    getReputationSummary(agentId: AgentId, tag1?: string, tag2?: string): Promise<{
        count: number;
        averageValue: number;
    }>;
}
//# sourceMappingURL=feedback-manager.d.ts.map